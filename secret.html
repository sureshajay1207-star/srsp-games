<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secret Challenge Cards</title>

<style>
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: #0f0f16;
  color: #fff;
}

.hidden { display: none; }

.fade {
  animation: fadeIn 0.35s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.container {
  max-width: 420px;
  margin: auto;
  padding: 20px;
}

.card {
  background: #1b1b28;
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 16px;
}

button, select, input {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  border-radius: 12px;
  border: none;
  font-size: 1rem;
}

button {
  background: linear-gradient(135deg, #ff5c8a, #ff8fb3);
  color: white;
  font-weight: 600;
}

.secondary {
  background: #3a3a4d;
}

.notice {
  font-size: 0.9rem;
  opacity: 0.85;
  text-align: center;
}

h2, h3 {
  text-align: center;
}
</style>
</head>

<body>

<!-- SETUP -->
<div id="setup" class="container fade">
  <h2>üÉè Secret Challenge Cards</h2>

  <div class="card">
    <label>Choose Level</label>
    <select id="mood">
      <option value="casual">Casual</option>
      <option value="hot">Hot</option>
      <option value="spicy">Spicy</option>
      <option value="wild">Becoming Wild</option>
    </select>
  </div>

  <div id="players"></div>

  <button onclick="addPlayer()">Add Participant</button>
  <button onclick="startGame()">Start Game</button>
</div>

<!-- GAME -->
<div id="game" class="container hidden fade">
  <h3 id="turnCounter"></h3>
  <h2 id="currentPlayer"></h2>

  <div class="card">
    <p class="notice">Only the current player should look at the screen.</p>
    <button onclick="drawCard()">Draw Secret Card</button>
  </div>

  <div class="card hidden" id="secretCard">
    <h3>Your Secret Challenge</h3>
    <p id="secretText" style="text-align:center; font-size:1.1rem;"></p>
    <button class="secondary" onclick="hideCard()">Hide Card</button>
  </div>

  <button class="secondary" onclick="nextTurn()">Next Turn</button>
  <button class="secondary" onclick="backToSetup()">Change Level / Players</button>
</div>

<script>
let players = [];
let currentIndex = -1;
let lastIndex = -1;
let turnCount = 0;
let mood = "casual";
let gameStarted = false;

/* ---------- SECRET CHALLENGES (YOUR EXACT TEXT) ---------- */

const secretChallenges = {
  casual: [
    "Compliment your partner sincerely at a random moment during this round.",
    "Make your partner laugh naturally without telling them why.",
    "Hold your partner‚Äôs hand suddenly and keep holding it for at least 30 seconds.",
    "Whisper something sweet to your partner when they least expect it.",
    "Sit closer to your partner without explaining the reason.",
    "Smile at your partner every time they look at you this round.",
    "Give your partner a warm hug at any unexpected moment.",
    "Maintain eye contact with your partner for 10 seconds during a pause.",
    "Gently touch your partner‚Äôs arm and leave your hand there for a bit.",
    "Say one appreciative thing about your partner out loud during the round.",
    "Lean your head on your partner‚Äôs shoulder without saying anything.",
    "Thank your partner for something small they do.",
    "Mirror your partner‚Äôs posture subtly for a short time.",
    "Hold your partner‚Äôs hand during someone else‚Äôs turn.",
    "End the round with a soft kiss for your partner."
  ],

  hot: [
    "Whisper something flirty into your partner‚Äôs ear when no one expects it.",
    "Pull your partner slightly closer when they‚Äôre distracted.",
    "Maintain intense eye contact with your partner for a full 15 seconds.",
    "Compliment a physical feature of your partner confidently.",
    "Sit in a way that keeps your body pressed against your partner.",
    "Touch your partner‚Äôs waist briefly and casually.",
    "Lean in as if to kiss your partner, then stop and smile.",
    "Kiss your partner slowly at a random moment.",
    "Run your fingers lightly along your partner‚Äôs arm or neck.",
    "Whisper what you like most about how your partner looks right now.",
    "Hold your partner firmly for a few seconds without explanation.",
    "Let your lips brush your partner‚Äôs cheek or jawline unexpectedly.",
    "Press your body closer while pretending nothing happened.",
    "Say something teasing to your partner using a low voice.",
    "End the round with a lingering kiss."
  ],

  spicy: [
    "Kiss your partner deeply at a moment they don‚Äôt expect.",
    "Sit on your partner‚Äôs lap for at least 20 seconds.",
    "Slowly trace your fingers along your partner‚Äôs neck or jaw.",
    "Pull your partner close and whisper what you want later.",
    "Let your hands linger on your partner longer than usual.",
    "Kiss your partner somewhere you don‚Äôt usually kiss.",
    "Press your body fully against your partner during a pause.",
    "Let your partner feel how close you want to be without words.",
    "Undress one small item (jacket, layer, accessory) subtly.",
    "Guide your partner‚Äôs hand to where you want it (over clothes).",
    "Breathe slowly against your partner‚Äôs neck.",
    "Kiss your partner until one of you has to pull away.",
    "Keep your body in contact with your partner for the rest of the round.",
    "Whisper a desire-focused sentence (non-graphic).",
    "End the round with intense eye contact and a smile."
  ],

  wild: [
    "Slowly undress one piece of clothing at a time during the round.",
    "Keep your partner pressed close to you whenever possible.",
    "Whisper exactly what you want to do to your partner later (non-graphic).",
    "Let your partner guide your hands for an extended moment.",
    "Kiss your partner deeply and take your time with it.",
    "Stay very close to your partner without explaining why.",
    "Touch your partner confidently whenever the opportunity arises.",
    "Maintain dominance or surrender (your choice) for the rest of the round.",
    "Let your partner decide when you can stop touching them.",
    "Keep your partner wanting more without fully giving it.",
    "Remove another layer of clothing naturally during the round.",
    "Press skin-to-skin with your partner when possible.",
    "Let anticipation build before acting on desire.",
    "End the round by pulling your partner aside for a private moment.",
    "Finish the challenge only when you feel the tension peak."
  ]
};

/* ---------- INITIAL SETUP ---------- */

addPlayer();
addPlayer();

function addPlayer() {
  if (gameStarted) return;
  players.push({ name: "" });
  renderPlayers();
}

function renderPlayers() {
  const container = document.getElementById("players");
  container.innerHTML = "";

  players.forEach((p, i) => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <input placeholder="Participant name"
        ${gameStarted ? "disabled" : ""}
        onchange="players[${i}].name=this.value">
    `;
    container.appendChild(div);
  });
}

/* ---------- GAME FLOW ---------- */

function startGame() {
  players = players.filter(p => p.name.trim());
  if (players.length < 2) {
    alert("Add at least 2 participants");
    return;
  }

  mood = document.getElementById("mood").value;
  gameStarted = true;
  renderPlayers();

  document.getElementById("setup").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  nextTurn();
}

function nextTurn() {
  document.getElementById("secretCard").classList.add("hidden");

  let i;
  do {
    i = Math.floor(Math.random() * players.length);
  } while (i === lastIndex && players.length > 1);

  lastIndex = i;
  currentIndex = i;
  turnCount++;

  document.getElementById("turnCounter").innerText =
    "Round " + turnCount;

  document.getElementById("currentPlayer").innerText =
    players[i].name + ", this round is yours";
}

function drawCard() {
  const list = secretChallenges[mood];
  const text = list[Math.floor(Math.random() * list.length)];
  document.getElementById("secretText").innerText = text;
  document.getElementById("secretCard").classList.remove("hidden");
}

function hideCard() {
  document.getElementById("secretCard").classList.add("hidden");
}

function backToSetup() {
  gameStarted = false;
  turnCount = 0;
  lastIndex = -1;

  document.getElementById("game").classList.add("hidden");
  document.getElementById("setup").classList.remove("hidden");
  renderPlayers();
}
</script>

</body>
</html>
